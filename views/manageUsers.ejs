<%- include('./layouts/header') %>
<!-------------------------------------------------------------------------------------->
<!-------------------------------------------------------------------------------------->
<!-------------------------------------------------------------------------------------->




<div class="container">
  <div class="row">
<h1>REGISTERED USERS</h1> 
<table class="table table-dark customTable ">
    <thead>
      <tr>
      
        <th scope="col">User ID</th>
        <th scope="col">E-mail</th>
        <th scope="col">Role</th>
        <th scope="col">Actions</th> 
      </tr>
    </thead>
    <tbody>
      <% Allusers.forEach(element => { %>
       <tr>
      
        <td><%= element._id %></td>
        <td><%= element.email_field%></td>
        <td><%= element.role %></td>
        
      <td>

        

          <!-- See Profile button -->
          <button type="button" class="btn btn-warning" onclick="SeeprofileUser('<%= element._id %>')">View Profile</button>

          <!-- Update button -->
          <button type="button" class="btn btn-primary" onclick="updateUser('<%= element._id %>')">Update</button>
          
          <!-- Delete button -->
          <button type="button" class="btn btn-danger" onclick="deleteUser('<%= element._id %>')">Delete</button>

        
        </td>
       </tr>
      <% }) %>
    </tbody>
  </table>
  </div>

  <!---------------------------------------------------------------------------------->
  <div class="container">
    <div class="row">
  <h1>LOGGED IN USERS</h1> 
  <table class="table table-dark customTable ">
      <thead>
        <tr>
        
          <th scope="col">Email</th>
          <th scope="col">Last Login</th>
          
        </tr>
      </thead>
      <tbody>
        <% LoggedInUsers.forEach(element => { %>
         <tr>
        
          <td><%= element.email %></td>
          <td><%= element.lastLogin %></td>
         
          
         </tr>
        <% }) %>
      </tbody>
    </table>
    </div>
  </div>











<!-------------------------------------------------------------------------------------->
<!-------------------------------------------------------------------------------------->
<!-------------------------------------------------------------------------------------->






































  <!----------------------------------------------------------------------------------------------------------->
<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Registered users</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false"  >Loggedin users</button>
    </li>
</ul>



<div class="tab-content" id="pills-tabContent">

    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab" tabindex="0">
      <!-----------------------------------------------------------------------------------------------------------> 
      <div class="container">
        <div class="row">
      <h1>REGISTERED USERS</h1> 
      <table class="table table-dark customTable ">
          <thead>
            <tr>
            
              <th scope="col">User ID</th>
              <th scope="col">E-mail</th>
              <th scope="col">Role</th>
              <th scope="col">Actions</th> 
            </tr>
          </thead>
          <tbody>
            <% Allusers.forEach(element => { %>
             <tr>
            
              <td><%= element._id %></td>
              <td><%= element.email_field%></td>
              <td><%= element.role %></td>
              
            <td>
      
              
      
                <!-- See Profile button -->
                <button type="button" class="btn btn-warning" onclick="SeeprofileUser('<%= element._id %>')">View Profile</button>
      
                <!-- Update button -->
                <button type="button" class="btn btn-primary" onclick="updateUser('<%= element._id %>')">Update</button>
                
                <!-- Delete button -->
                <button type="button" class="btn btn-danger" onclick="deleteUser('<%= element._id %>')">Delete</button>
      
              
              </td>
             </tr>
            <% }) %>
          </tbody>
        </table>
        </div>
       <!-----------------------------------------------------------------------------------------------------------> 
    </div>

    
       <!-----------------------------------------------------------------------------------------------------------> 
    </div>
  
   
</div>
<%- include('./layouts/footer') %>


